<!DOCTYPE html>


<script>
    !function(t,e){var o,n,p,r;e.__SV||(window.posthog=e,e._i=[],e.init=function(i,s,a){function g(t,e){var o=e.split(".");2==o.length&&(t=t[o[0]],e=o[1]),t[e]=function(){t.push([e].concat(Array.prototype.slice.call(arguments,0)))}}(p=t.createElement("script")).type="text/javascript",p.async=!0,p.src=s.api_host+"/static/array.js",(r=t.getElementsByTagName("script")[0]).parentNode.insertBefore(p,r);var u=e;for(void 0!==a?u=e[a]=[]:a="posthog",u.people=u.people||[],u.toString=function(t){var e="posthog";return"posthog"!==a&&(e+="."+a),t||(e+=" (stub)"),e},u.people.toString=function(){return u.toString(1)+".people (stub)"},o="capture identify alias people.set people.set_once set_config register register_once unregister opt_out_capturing has_opted_out_capturing opt_in_capturing reset isFeatureEnabled onFeatureFlags getFeatureFlag getFeatureFlagPayload reloadFeatureFlags group updateEarlyAccessFeatureEnrollment getEarlyAccessFeatures getActiveMatchingSurveys getSurveys".split(" "),n=0;n<o.length;n++)g(u,o[n]);e._i.push([i,s,a])},e.__SV=1)}(document,window.posthog||[]);
    posthog.init('phc_OsZHF9H7fUX08AyjtqACUFVfnsQNWfKYkDy9tl0i0bG',{api_host:'https://app.posthog.com'})
</script>



<html lang="en">
<link rel="stylesheet" href="https://antoniosbarotsis.github.io/index.css">

<head>
    <!-- <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" integrity="sha512-fHwaWebuwA7NSF5Qg/af4UeDx9XqUpYpOGgubo3yWu+b2IQR4UeQwbb42Ti7gVAjNtVoI/I9TEoYeu9omwcC6g==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.js" integrity="sha512-LQNxIMR5rXv7o+b1l8+N1EZMfhG7iFZ9HhnbJkTp4zjNr5Wvst75AqUeFDxeRUa7l5vEDyUiAip//r+EFLLCyA==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/mathtex-script-type.min.js" integrity="sha512-MBhOGY4yRA2eATtRGTcrDJCRqcnLai5+uu47GA2ueVr1MPzirC/iogLWRA8CXTlOTK09VI4fdTe4qE4LBfjsHw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
    <script defer src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/auto-render.min.js" integrity="sha512-iWiuBS5nt6r60fCz26Nd0Zqe0nbk1ZTIQbl3Kv7kYsX+yKMUFHzjaH2+AnM6vp2Xs+gNmaBAVWJjSmuPw76Efg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script> -->

    <title>My writing workflow</title>
    
    <meta http-equiv="content-type" content="text/html; charset=utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
    <meta name="robots" content="noodp"/>

    <link rel="stylesheet" href="https://antoniosbarotsis.github.io/style.css">
    <link rel="stylesheet" href="https://antoniosbarotsis.github.io/color/orange-auto.css">

        <link rel="stylesheet" href="https://antoniosbarotsis.github.io/color/background_orange.css">
    
    <link rel="stylesheet" href="https://antoniosbarotsis.github.io/font-hack-subset.css">

    
    <meta name="description" content="Helping myself blog">

    <meta property="og:description" content="Helping myself blog">
    <meta property="og:title" content="My writing workflow">
    <meta property="og:type" content="article">
    <meta property="og:url" content="https://antoniosbarotsis.github.io/posts/writing-workflow/">

    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:description" content="Helping myself blog">
    <meta name="twitter:title" content="My writing workflow">
    <meta property="twitter:domain" content="antoniosbarotsis.github.io">
    <meta property="twitter:url" content="https://antoniosbarotsis.github.io/posts/writing-workflow/">

        <link rel="shortcut icon" type="image&#x2F;x-icon" href="/favicon.ico">
    
    </head>

<body class="">
<div class="container">
    
    <header class="header">
        <div class="header__inner">
            <div class="header__logo">
                    
                <a href="https://antoniosbarotsis.github.io" style="text-decoration: none;">
                    <div class="logo">
                      
                            Tony&#x27;s Blog
                        
                    </div>
                </a>
            </div>
        </div>

        
        <nav class="menu">
            <ul class="menu__inner">
                <li><a href="https://antoniosbarotsis.github.io">Home</a></li>
            
                <li class="active"><a href="https://antoniosbarotsis.github.io/posts">Posts</a></li>
            
                <li><a href="https://antoniosbarotsis.github.io/tags">Tags</a></li>
            
                <li><a href="https://antoniosbarotsis.github.io/about">About</a></li>
            
                <li><a href="https://github.com/AntoniosBarotsis" target="_blank" rel="noopener noreferrer">Github</a></li>
            
                <li><a href="https://twitter.com/Tony_Barotsis" target="_blank" rel="noopener noreferrer">Twitter</a></li>
            
                <li><a href="https://www.linkedin.com/in/antonios-barotsis-5a26a0199/" target="_blank" rel="noopener noreferrer">LinkedIn</a></li>
            
                <li><a href="mailto:antonios.barotsis@proton.me" target="_blank" rel="noopener noreferrer">Email</a></li>
            </ul>
        </nav>
    
    
        
    </header>
    

    <div class="content">
        
    <div class="post">
        
<h1 class="post-title"><a href="https://antoniosbarotsis.github.io/posts/writing-workflow/">My writing workflow</a></h1>
<div class="post-meta-inline">
    
    
<span class="post-date">
    2025-05-06
    </span>
 :: 5 min read ::
    
    


<a href="https://github.com/AntoniosBarotsis/antoniosbarotsis.github.io/blob/master/content/posts/writing-workflow.md">View
    Source</a>


&nbsp;
</div>


<span class="post-tags-inline">
    <a class="post-tag" href="https://antoniosbarotsis.github.io/tags/meta/">#Meta</a>,
    <a class="post-tag" href="https://antoniosbarotsis.github.io/tags/no-coding/">#No Coding</a></span>


        

<meta name="keywords" content="Antonios,Barotsis,Tony,Portfolio,Blog,Open,Source,Rust" />


<!-- /posts -->
<div class="post-content">
    

<h2>Table of Contents</h2>
<ul>
    
    <li>
        <a href="https://antoniosbarotsis.github.io/posts/writing-workflow/#introduction">Introduction</a>
        
        <ul>
            
            <li>
                <a href="https://antoniosbarotsis.github.io/posts/writing-workflow/#my-workspace">My Workspace</a>
            </li>
            
            <li>
                <a href="https://antoniosbarotsis.github.io/posts/writing-workflow/#spell-checking">Spell Checking</a>
            </li>
            
            <li>
                <a href="https://antoniosbarotsis.github.io/posts/writing-workflow/#link-checking">Link Checking?</a>
            </li>
            
        </ul>
        
    </li>
    
    <li>
        <a href="https://antoniosbarotsis.github.io/posts/writing-workflow/#closing">Closing</a>
        
    </li>
    
</ul>


    <h2 id="introduction"><a class="anchor" href="#introduction" aria-label="Anchor link for: introduction">Introduction</a></h2>
<p>In my <a href="../low-effort-everything#closing">last post</a> I mentioned that because the post was so long
compared to what I usually put out, I ended up improving my CI to help me catch some errors more
easily.</p>
<p>I found it quite useful and I've actually been using parts of it for many of my notes and my ongoing
Bachelor thesis so I felt like sharing it!</p>
<h3 id="my-workspace"><a class="anchor" href="#my-workspace" aria-label="Anchor link for: my-workspace">My Workspace</a></h3>
<p>It is worth mentioning that my blog posts are written in Markdown and as I'm a fan of markup
languages (over say Microsoft Word or something), my thesis is written in <a href="https://typst.app">Typst</a>.</p>
<p>I'm bringing this up because if you do use fancier environments like Word, there are probably
more convenient ways of achieving the improvements I'm going to talk about. If you do write loads
of text in a code editor like me however, you might find something useful in the rest of this post!</p>
<h3 id="spell-checking"><a class="anchor" href="#spell-checking" aria-label="Anchor link for: spell-checking">Spell Checking</a></h3>
<p>The first (and arguably more important) change I made was performing spell checking in my CI! I
cannot believe it took me this long to even consider adding something like this. I think that's
because VSCode does do some spell checking (or maybe it was some of my plugins?) but it was not
always correct, it was inconsistent, sometimes annoying and of course easy to miss.</p>
<p>What I ended up doing is setting up <a href="https://cspell.org/docs/getting-started">CSpell</a>. Their docs are pretty decent so I won't go into too
much detail but essentially what you end up doing is</p>
<ul>
<li>creating a config file <code>cspell.config.yaml</code></li>
<li>creating a file of allowed words that <code>cspell</code> does not already accept <code>project-words.txt</code></li>
</ul>
<p>In the config you usually define things like what directories you actually want to spell check
(you probably don't care about spell checking your <code>node_modules</code> or something) or maybe any regexes
specifying text you want to ignore, and a whole bunch more that I don't really care about.</p>
<p>The <code>project-words</code> file is also neat as a lot of programming related words are usually considered
invalid (and so are many names) and you get to keep all these exceptions in 1 place as a plaintext
file. You can of course add to this file manually or, as per
<a href="https://cspell.org/docs/getting-started#2-add-words-to-the-project-dictionary">their docs</a>,
do something like</p>
<pre data-lang="sh" style="background-color:#0f1419;color:#bfbab0;" class="language-sh "><code class="language-sh" data-lang="sh"><span style="color:#ffb454;">cspell</span><span style="color:#f29718;"> --words-only --unique </span><span style="color:#c2d94c;">&quot;**/*.md&quot; </span><span style="color:#f29668;">| </span><span style="color:#ffb454;">sort</span><span style="color:#f29718;"> --ignore-case </span><span style="color:#f29668;">&gt;&gt;</span><span> project-words.txt
</span></code></pre>
<p>to append to it all the words <code>cspell</code> currently considers wrong so you can decide which <em>are</em>
wrong and which are false positives. Considering you are probably using git, you can very easily
immediately see which words were added to this dictionary so its easy to review them.</p>
<p>Running the spell checking in CI was trivial:</p>
<pre data-lang="yml" style="background-color:#0f1419;color:#bfbab0;" class="language-yml "><code class="language-yml" data-lang="yml"><span>  </span><span style="color:#59c2ff;">spell_check</span><span style="color:#bfbab0cc;">:
</span><span>    </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Spell check
</span><span>    </span><span style="color:#59c2ff;">runs-on</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">ubuntu-latest
</span><span>    </span><span style="color:#59c2ff;">steps</span><span style="color:#bfbab0cc;">:
</span><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Checkout main
</span><span>      </span><span style="color:#59c2ff;">uses</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">actions/checkout@v4
</span><span>      </span><span style="color:#59c2ff;">with</span><span style="color:#bfbab0cc;">:
</span><span>        </span><span style="color:#59c2ff;">fetch-depth</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">1
</span><span>
</span><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Install cspell
</span><span>      </span><span style="color:#59c2ff;">run</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">npm install -g cspell@latest
</span><span>
</span><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Spell check
</span><span>      </span><span style="color:#59c2ff;">run</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">cspell .
</span></code></pre>
<ul>
<li>Clone the repo</li>
<li>Install cspell</li>
<li>Run it</li>
<li>Profit</li>
</ul>
<p>Very low effort addition that will save you lots of headaches.</p>
<h3 id="link-checking"><a class="anchor" href="#link-checking" aria-label="Anchor link for: link-checking">Link Checking?</a></h3>
<p>A tool I heard of a while ago but never tried out is <a href="https://lychee.cli.rs">Lychee</a>. Lychee can scan your text files <em>or</em>
webpages and find all broken/dead links and mail addresses.</p>
<p>I had not realized how many of the links I used in older posts were just not working any more 🗿</p>
<p>I'll definitely start using things like <a href="https://archive.is">archive.is</a> more in the future to avoid this.</p>
<p>Setting this up was a little bit more annoying (not to Lychee's fault, websites are just annoying
to curl sometimes) but in the end I ended up with the following config:</p>
<pre data-lang="toml" style="background-color:#0f1419;color:#bfbab0;" class="language-toml "><code class="language-toml" data-lang="toml"><span style="font-style:italic;color:#5c6773;"># lychee.toml
</span><span style="color:#59c2ff;">cache </span><span>= </span><span style="color:#f29718;">true
</span><span style="color:#59c2ff;">max_cache_age </span><span>= </span><span style="color:#c2d94c;">&quot;2d&quot;
</span><span style="color:#59c2ff;">max_redirects </span><span>= </span><span style="color:#f29718;">10
</span><span style="color:#59c2ff;">user_agent </span><span>= </span><span style="color:#c2d94c;">&quot;curl/7.83. 1&quot;
</span><span style="color:#59c2ff;">timeout </span><span>= </span><span style="color:#f29718;">20
</span><span style="color:#59c2ff;">retry_wait_time </span><span>= </span><span style="color:#f29718;">2
</span><span>
</span><span style="color:#59c2ff;">accept </span><span>= [</span><span style="color:#c2d94c;">&quot;200&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;403&quot;</span><span style="color:#bfbab0cc;">, </span><span style="color:#c2d94c;">&quot;429&quot;</span><span>]
</span><span>
</span><span style="color:#59c2ff;">insecure </span><span>= </span><span style="color:#f29718;">false
</span><span style="color:#59c2ff;">scheme </span><span>= [</span><span style="color:#c2d94c;">&quot;https&quot;</span><span>]
</span><span style="color:#59c2ff;">require_https </span><span>= </span><span style="color:#f29718;">false
</span><span style="color:#59c2ff;">method </span><span>= </span><span style="color:#c2d94c;">&quot;get&quot;
</span><span>
</span><span style="font-style:italic;color:#5c6773;"># Check links inside `&lt;code&gt;` and `&lt;pre&gt;` blocks as well as Markdown code
</span><span style="font-style:italic;color:#5c6773;"># blocks.
</span><span style="color:#59c2ff;">include_verbatim </span><span>= </span><span style="color:#f29718;">false
</span><span>
</span><span style="font-style:italic;color:#5c6773;"># Exclude URLs and mail addresses from checking (supports regex).
</span><span style="color:#59c2ff;">exclude </span><span>= [
</span><span>  </span><span style="color:#c2d94c;">&#39;linkedin.com&#39;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&#39;archive.is&#39;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&#39;https://github.com/pulls&#39;</span><span style="color:#bfbab0cc;">,
</span><span>  </span><span style="color:#c2d94c;">&#39;https://gdsc.community.dev/delft-university-of-technology/&#39;</span><span style="color:#bfbab0cc;">,
</span><span>]
</span><span>
</span><span style="font-style:italic;color:#5c6773;"># Exclude loopback IP address range and localhost from checking.
</span><span style="color:#59c2ff;">exclude_loopback </span><span>= </span><span style="color:#f29718;">true
</span><span>
</span></code></pre>
<p>I think all of it is pretty self explanatory, as are
<a href="https://lychee.cli.rs/introduction/">the docs</a>.</p>
<p>While locally you can just serve your site and run Lychee via
<code>lychee http://127.0.0.1:1111/posts/specific_post</code> for new posts,
running it in CI was a bit more annoying because I wanted to check all pages of my blog.</p>
<p>What I ended up doing was use the <a href="https://en.wikipedia.org/wiki/Site_map">sitemap</a> (good chance your SSG generates one for you, try
<code>/sitemap.xml</code>), pass it to <a href="https://github.com/lukehsiao/sitemap2urllist">this tool I found</a>
that just parses it and extracts all the URLs it contains (admittedly this does not seem that
hard to DIY but I am lazy) and <em>finally</em> past all the resulting links to lychee using <code>xargs</code>.</p>
<p>The CI job looks like this:</p>
<pre data-linenos data-lang="yml" style="background-color:#0f1419;color:#bfbab0;" class="language-yml "><code class="language-yml" data-lang="yml"><table><tbody><tr><td>1</td><td><span>  </span><span style="color:#59c2ff;">link_check</span><span style="color:#bfbab0cc;">:
</span></td></tr><tr><td>2</td><td><span>    </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Link check
</span></td></tr><tr><td>3</td><td><span>    </span><span style="color:#59c2ff;">runs-on</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">ubuntu-latest
</span></td></tr><tr><td>4</td><td><span>    </span><span style="color:#59c2ff;">steps</span><span style="color:#bfbab0cc;">:
</span></td></tr><tr><td>5</td><td><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Checkout main
</span></td></tr><tr><td>6</td><td><span>      </span><span style="color:#59c2ff;">uses</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">actions/checkout@v4
</span></td></tr><tr><td>7</td><td><span>      </span><span style="color:#59c2ff;">with</span><span style="color:#bfbab0cc;">:
</span></td></tr><tr><td>8</td><td><span>        </span><span style="color:#59c2ff;">fetch-depth</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">1
</span></td></tr><tr><td>9</td><td><span>        </span><span style="color:#59c2ff;">submodules</span><span style="color:#bfbab0cc;">: </span><span style="color:#f29718;">true
</span></td></tr><tr><td>10</td><td><span>
</span></td></tr><tr><td>11</td><td><span>    - </span><span style="color:#59c2ff;">uses</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">cargo-bins/cargo-binstall@main
</span></td></tr><tr><td>12</td><td><span>
</span></td></tr><tr><td>13</td><td><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Install lychee
</span></td></tr><tr><td>14</td><td><span>      </span><span style="color:#59c2ff;">run</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">|
</span></td></tr><tr><td><mark style="background-color:#0a0e12;">15</mark></td><td><mark style="background-color:#0a0e12;"><span style="color:#c2d94c;">        sudo apt-get install gcc pkg-config libc6-dev libssl-dev -y
</span></mark></td></tr><tr><td><mark style="background-color:#0a0e12;">16</mark></td><td><mark style="background-color:#0a0e12;"><span style="color:#c2d94c;">        cargo binstall lychee sitemap2urllist
</span></mark></td></tr><tr><td>17</td><td><span style="color:#c2d94c;">
</span></td></tr><tr><td>18</td><td><span>    - </span><span style="color:#59c2ff;">uses</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">taiki-e/install-action@v2
</span></td></tr><tr><td>19</td><td><span>      </span><span style="color:#59c2ff;">with</span><span style="color:#bfbab0cc;">:
</span></td></tr><tr><td>20</td><td><span>        </span><span style="color:#59c2ff;">tool</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">zola@0.19.2
</span></td></tr><tr><td>21</td><td><span>
</span></td></tr><tr><td>22</td><td><span>    - </span><span style="color:#59c2ff;">name</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">Link check
</span></td></tr><tr><td>23</td><td><span>      </span><span style="color:#59c2ff;">run</span><span style="color:#bfbab0cc;">: </span><span style="color:#ff7733;">|
</span></td></tr><tr><td>24</td><td><span style="color:#c2d94c;">        zola serve &amp;
</span></td></tr><tr><td>25</td><td><span style="color:#c2d94c;">        sleep 3
</span></td></tr><tr><td><mark style="background-color:#0a0e12;">26</mark></td><td><mark style="background-color:#0a0e12;"><span style="color:#c2d94c;">        sitemap2urllist http://127.0.0.1:1111/sitemap.xml | xargs lychee --config ./lychee.toml
</span></mark></td></tr><tr><td>27</td><td><span>      </span><span style="color:#59c2ff;">env</span><span style="color:#bfbab0cc;">:
</span></td></tr><tr><td>28</td><td><span>        </span><span style="color:#59c2ff;">GITHUB_TOKEN</span><span style="color:#bfbab0cc;">: </span><span style="color:#c2d94c;">${{ github.token }}
</span></td></tr></tbody></table></code></pre>
<p>In short:</p>
<ul>
<li>Clone the repo</li>
<li>Install <code>lychee</code> and its <a href="https://lychee.cli.rs/installation/#build-dependencies">build dependencies</a>
+ sitemap2urllist (the tool I mentioned earlier) <strong>(line 16-17)</strong></li>
<li>I then serve my blog (which uses <a href="https://www.getzola.org">zola</a>) and run lychee on the sitemap running in localhost
(<strong>line 26</strong>)</li>
</ul>
<p>This checks all links in my blog (both internal and external), pretty neat!</p>
<p>This does need to compile <code>sitemap2urllist</code> which takes like 2 minutes but I don't mind.</p>
<h2 id="closing"><a class="anchor" href="#closing" aria-label="Anchor link for: closing">Closing</a></h2>
<p>That is all!</p>
<p>This was a pretty short post, not much else to talk about.</p>
<p>Till next time!</p>

</div>

        
<div class="pagination">
    <div class="pagination__title">
        <span class="pagination__title-h">Read more</span>
        <hr />
    </div>
    <div class="pagination__buttons">
        
        <span class="button next">
            <a href="https://antoniosbarotsis.github.io/posts/low-effort-everything/">
                <span class="button__text">Low-effort everything</span>&nbsp;
                <span class="button__icon">→</span>
            </a>
        </span>
        </div>
</div>

<script src="https://utteranc.es/client.js" repo="AntoniosBarotsis/antoniosbarotsis.github.io" issue-term="pathname"
    label="Comment" theme="github-dark" crossorigin="anonymous" async>
    </script>


    </div>


    </div>
    
    
    <footer class="footer">
        <div class="footer__inner">
                <div class="copyright">
                        <span>© 
    2025
 Powered by <a href="https://www.getzola.org/">Zola</a></span>
                    <span class="copyright-theme">
                        <span class="copyright-theme-sep">:: </span>
                        Theme: <a href="https://github.com/pawroman/zola-theme-terminimal/">Terminimal</a> by pawroman
                    </span>
                </div>
            </div>
    </footer>
    

</div>
</body>

</html>
